<?xml version="1.0" encoding="ISO-8859-1"?>
<html xmlns="http://www.w3.org/1999/xhtml"><head xmlns="http://www.w3.org/1999/xhtml"><title xmlns="http://www.w3.org/1999/xhtml">Fetchmail Grows Up</title><meta xmlns="http://www.w3.org/1999/xhtml" name="generator" content="DocBook XSL Stylesheets V1.49"/><link rel="home" href="index.html" title="The Cathedral and the Bazaar"/><link rel="up" href="index.html" title="The Cathedral and the Bazaar"/><link rel="previous" href="ar01s07.html" title="Popclient becomes Fetchmail"/><link rel="next" href="ar01s09.html" title="A Few More Lessons from Fetchmail"/></head><body><div xmlns="http://www.w3.org/1999/xhtml" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Fetchmail Grows Up</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s07.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s09.html">Next</a></td></tr></table><hr/></div><div xmlns="http://www.w3.org/1999/xhtml" class="sect1"><div xmlns="http://www.w3.org/1999/xhtml" class="titlepage"><div xmlns="http://www.w3.org/1999/xhtml"><h2 class="title" style="clear: both"><a xmlns="http://www.w3.org/1999/xhtml" id="id2762338"/>Fetchmail Grows Up</h2></div></div><p xmlns="http://www.w3.org/1999/xhtml">There I was with a neat and innovative design, code that I knew
worked well because I used it every day, and a burgeoning beta list.
It gradually dawned on me that I was no longer engaged in a trivial
personal hack that might happen to be useful to few other people.  I
had my hands on a program that every hacker with a Unix box and a
SLIP/PPP mail connection really needs.</p><p xmlns="http://www.w3.org/1999/xhtml">With the SMTP forwarding feature, it pulled far enough in front of the
competition to potentially become a ``category killer'', one of those
classic programs that fills its niche so competently that the
alternatives are not just discarded but almost forgotten.</p><p xmlns="http://www.w3.org/1999/xhtml">I think you can't really aim or plan for a result like this.  You have
to get pulled into it by design ideas so powerful that afterward the
results just seem inevitable, natural, even foreordained.  The only
way to try for ideas like that is by having lots of ideas&#8212;or by
having the engineering judgment to take other peoples' good ideas
beyond where the originators thought they could go.</p><p xmlns="http://www.w3.org/1999/xhtml">Andy Tanenbaum had the original idea to build a simple native Unix for
IBM PCs, for use as a teaching tool (he called it Minix).  Linus
Torvalds pushed the Minix concept further than Andrew probably thought
it could go&#8212;and it grew into something wonderful.  In the same way
(though on a smaller scale), I took some ideas by Carl Harris and
Harry Hochheiser and pushed them hard.  Neither of us was `original'
in the romantic way people think is genius.  But then, most science
and engineering and software development isn't done by original
genius, hacker mythology to the contrary.</p><p xmlns="http://www.w3.org/1999/xhtml">The results were pretty heady stuff all the same&#8212;in fact, just the
kind of success every hacker lives for!  And they meant I would have
to set my standards even higher.  To make fetchmail as good as I now
saw it could be, I'd have to write not just for my own needs, but also
include and support features necessary to others but outside my orbit.
And do that while keeping the program simple and robust.</p><p xmlns="http://www.w3.org/1999/xhtml">The first and overwhelmingly most important feature I wrote after
realizing this was multidrop support&#8212;the ability to fetch mail from
mailboxes that had accumulated all mail for a group of users, and then
route each piece of mail to its individual recipients.</p><p xmlns="http://www.w3.org/1999/xhtml">I decided to add the multidrop support partly because some users
were clamoring for it, but mostly because I thought it would shake
bugs out of the single-drop code by forcing me to deal with addressing
in full generality.  And so it proved.  Getting <a xmlns="http://www.w3.org/1999/xhtml" href="http://info.internet.isi.edu:80/in-notes/rfc/files/rfc822.txt" target="_top">RFC
822</a> address parsing right took me a remarkably long time, not
because any individual piece of it is hard but because it involved a
pile of interdependent and fussy details.</p><p xmlns="http://www.w3.org/1999/xhtml">But multidrop addressing turned out to be an excellent design decision
as well.  Here's how I knew:</p><blockquote xmlns="http://www.w3.org/1999/xhtml" class="blockquote"><p xmlns="http://www.w3.org/1999/xhtml">14. Any tool should be useful in the expected way,
        but a truly great tool lends itself to uses you never
        expected.</p></blockquote><p xmlns="http://www.w3.org/1999/xhtml">The unexpected use for multidrop fetchmail is to run mailing
lists with the list kept, and alias expansion done, on the
<span xmlns="http://www.w3.org/1999/xhtml" class="emphasis"><i xmlns="http://www.w3.org/1999/xhtml">client</i></span> side of the Internet connection.  This
means someone running a personal machine through an ISP account can
manage a mailing list without continuing access to the ISP's alias
files.</p><p xmlns="http://www.w3.org/1999/xhtml">Another important change demanded by my beta-testers was support
for 8-bit MIME (Multipurpose Internet Mail Extensions) operation.
This was pretty easy to do, because I had been careful to keep the
code 8-bit clean (that is, to not press the 8th bit, unused in the
ASCII character set, into service to carry information within the
program).  Not because I anticipated the demand for this feature, but
rather in obedience to another rule:</p><blockquote xmlns="http://www.w3.org/1999/xhtml" class="blockquote"><p xmlns="http://www.w3.org/1999/xhtml">15. When writing gateway software of any kind, take
        pains to disturb the data stream as little as possible&#8212;and
        <span xmlns="http://www.w3.org/1999/xhtml" class="emphasis"><i xmlns="http://www.w3.org/1999/xhtml">never</i></span> throw away information unless the
        recipient forces you to!</p></blockquote><p xmlns="http://www.w3.org/1999/xhtml">Had I not obeyed this rule, 8-bit MIME support would have been
difficult and buggy.  As it was, all I had to do is read the MIME
standard (<a xmlns="http://www.w3.org/1999/xhtml" href="http://info.internet.isi.edu:80/in-notes/rfc/files/rfc1652.txt" target="_top">RFC
1652</a>) and add a trivial bit of header-generation logic.</p><p xmlns="http://www.w3.org/1999/xhtml">Some European users bugged me into adding an option to limit the
number of messages retrieved per session (so they can control costs
from their expensive phone networks).  I resisted this for a long
time, and I'm still not entirely happy about it.  But if you're
writing for the world, you have to listen to your customers&#8212;this
doesn't change just because they're not paying you in money.</p></div><div xmlns="http://www.w3.org/1999/xhtml" class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s07.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="index.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ar01s09.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Popclient becomes Fetchmail </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> A Few More Lessons from Fetchmail</td></tr></table></div></body></html>
