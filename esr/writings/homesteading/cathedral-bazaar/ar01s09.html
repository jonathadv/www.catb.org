<?xml version="1.0" encoding="ISO-8859-1"?>
<html xmlns="http://www.w3.org/1999/xhtml"><head xmlns="http://www.w3.org/1999/xhtml"><title xmlns="http://www.w3.org/1999/xhtml">A Few More Lessons from Fetchmail</title><meta xmlns="http://www.w3.org/1999/xhtml" name="generator" content="DocBook XSL Stylesheets V1.49"/><link rel="home" href="index.html" title="The Cathedral and the Bazaar"/><link rel="up" href="index.html" title="The Cathedral and the Bazaar"/><link rel="previous" href="ar01s08.html" title="Fetchmail Grows Up"/><link rel="next" href="ar01s10.html" title=" Necessary Preconditions for the Bazaar Style"/></head><body><div xmlns="http://www.w3.org/1999/xhtml" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">A Few More Lessons from Fetchmail</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s08.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s10.html">Next</a></td></tr></table><hr/></div><div xmlns="http://www.w3.org/1999/xhtml" class="sect1"><div xmlns="http://www.w3.org/1999/xhtml" class="titlepage"><div xmlns="http://www.w3.org/1999/xhtml"><h2 class="title" style="clear: both"><a xmlns="http://www.w3.org/1999/xhtml" id="id2762549"/>A Few More Lessons from Fetchmail</h2></div></div><p xmlns="http://www.w3.org/1999/xhtml">Before we go back to general software-engineering issues, there are
a couple more specific lessons from the fetchmail experience to
ponder.  Nontechnical readers can safely skip this section.</p><p xmlns="http://www.w3.org/1999/xhtml">The rc (control) file syntax includes optional `noise' keywords that are
entirely ignored by the parser.  The English-like syntax they allow is
considerably more readable than the traditional terse keyword-value
pairs you get when you strip them all out.</p><p xmlns="http://www.w3.org/1999/xhtml">These started out as a late-night experiment when I noticed how
much the rc file declarations were beginning to resemble an imperative
minilanguage.  (This is also why I changed the original popclient
``server'' keyword to ``poll'').</p><p xmlns="http://www.w3.org/1999/xhtml">It seemed to me that trying to make that imperative minilanguage more
like English might make it easier to use.  Now, although I'm a
convinced partisan of the ``make it a language'' school of design as
exemplified by Emacs and HTML and many database engines, I am
not normally a big fan of ``English-like'' syntaxes.</p><p xmlns="http://www.w3.org/1999/xhtml">Traditionally programmers have tended to favor control syntaxes
that are very precise and compact and have no redundancy at all.  This
is a cultural legacy from when computing resources were expensive, so
parsing stages had to be as cheap and simple as possible.  English,
with about 50% redundancy, looked like a very inappropriate model
then.</p><p xmlns="http://www.w3.org/1999/xhtml">This is not my reason for normally avoiding English-like syntaxes; I
mention it here only to demolish it.  With cheap cycles and core,
terseness should not be an end in itself.  Nowadays it's more
important for a language to be convenient for humans than to be cheap
for the computer.</p><p xmlns="http://www.w3.org/1999/xhtml">There remain, however, good reasons to be wary.  One is the complexity
cost of the parsing stage&#8212;you don't want to raise that to the point
where it's a significant source of bugs and user confusion in itself.
Another is that trying to make a language syntax English-like often
demands that the ``English'' it speaks be bent seriously out of shape,
so much so that the superficial resemblance to natural language is as
confusing as a traditional syntax would have been.  (You see this bad
effect in a lot of so-called ``fourth generation'' and commercial
database-query languages.)</p><p xmlns="http://www.w3.org/1999/xhtml">The fetchmail control syntax seems to avoid these problems
because the language domain is extremely restricted.  It's nowhere
near a general-purpose language; the things it says simply are not
very complicated, so there's little potential for confusion in moving
mentally between a tiny subset of English and the actual control
language.  I think there may be a broader lesson here:</p><blockquote xmlns="http://www.w3.org/1999/xhtml" class="blockquote"><p xmlns="http://www.w3.org/1999/xhtml">16. When your language is nowhere near
        Turing-complete, syntactic sugar can be your
        friend.</p></blockquote><p xmlns="http://www.w3.org/1999/xhtml">Another lesson is about security by obscurity.  Some fetchmail users
asked me to change the software to store passwords encrypted in the rc
file, so snoopers wouldn't be able to casually see them.</p><p xmlns="http://www.w3.org/1999/xhtml">I didn't do it, because this doesn't actually add protection.
Anyone who's acquired permissions to read your rc file will
be able to run fetchmail as you anyway&#8212;and if it's your password
they're after, they'd be able to rip the necessary decoder out of
the fetchmail code itself to get it.</p><p xmlns="http://www.w3.org/1999/xhtml">All <tt xmlns="http://www.w3.org/1999/xhtml">.fetchmailrc</tt> password encryption would
have done is give a false sense of security to people who don't think
very hard.  The general rule here is:</p><blockquote xmlns="http://www.w3.org/1999/xhtml" class="blockquote"><p xmlns="http://www.w3.org/1999/xhtml">17. A security system is only as secure as its
        secret.  Beware of pseudo-secrets.</p></blockquote></div><div xmlns="http://www.w3.org/1999/xhtml" class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s08.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="index.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ar01s10.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Fetchmail Grows Up </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">  Necessary Preconditions for the Bazaar Style</td></tr></table></div></body></html>
