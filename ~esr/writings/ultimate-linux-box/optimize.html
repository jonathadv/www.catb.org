<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>What To Optimize</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="The Ultimate Linux Box 2001: How to Design Your Dream Machine"
HREF="ulb2001.html"><LINK
REL="PREVIOUS"
TITLE="The Ultimate Linux Box 2001: How to Design Your Dream Machine"
HREF="ulb2001.html"><LINK
REL="NEXT"
TITLE="But What If I'm Economizing?"
HREF="economizing.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>The Ultimate Linux Box 2001: How to Design Your Dream Machine: (Bigger, Longer, and Uncut)</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="ulb2001.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="economizing.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="OPTIMIZE">What To Optimize</H1
><P
>Most people think of the processor as the most important choice in
specifying any kind of personal-computer system.  But for typical job loads
under Linux, the processor type is nearly a red herring &#8212; it's far
more important to specify a capable system bus and disk I/O subsystem. If
you don't believe this, you may find it enlightening to keep
<SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>top</SPAN
>(1)</SPAN
>
running for a while as you use your machine.  Notice how seldom the CPU
idle percentage drops below 90%!</P
><P
>It's true that after people upgrade their motherboards they often do
report a throughput increase.  But this is often more due to other changes
that go with the processor upgrade, such as improved cache memory or an
increase in the clocking speed of the system's front-side bus (enabling
data to get in and out of the processor faster).</P
><P
>If you're buying for Linux on a fixed budget, it makes sense to trade
away some excess processor clocks to get a faster bus and disk subsystem.
If you're building a ULB, go ahead and buy that fastest available
processor -- but once you've gotten past that gearhead desire for big
numbers, pay careful attention to bus speeds and your disk subsystem,
because that's where you'll get the serious performance wins.  The gap
between processor speed and I/O subsystem throughput has only widened in
the last five years, so this is even better advice than it was in 1996.</P
><P
>How does it translate into a recipe in 2001?  Like this:</P
><P
></P
><UL
><LI
><P
><I
CLASS="EMPHASIS"
>Do</I
> get a pure PCI-bus
machine (not a hybrid PCI/ISA design, you sacrifice about 10% of
peak performance with those).</P
></LI
><LI
><P
><I
CLASS="EMPHASIS"
>Do</I
> buy a machine with the fastest
available "front-side" (e.g. processor-to-memory) bus.  (In August 2001
the maximum is 266 MHz.)</P
></LI
><LI
><P
><I
CLASS="EMPHASIS"
>Do</I
> get a high-speed SCSI controller
and the fastest SCSI disks you can get your hands on.</P
></LI
></UL
><P
>The case for SCSI is a little less obvious but still compelling.  For
starters, SCSI is still at least 10%-15% faster than IDE/ATAPI running flat
out.  Furthermore, IDE/ATAPI is still something of a bad kludge.  Like
Windows, it's layered over an ancestral design (ST-506) that's antiquated
and prone to failure under stress.  SCSI, on the other hand, was designed
from the beginning to scale up well to high-speed, high-throughput systems.
Because it's perceived as a "professional" choice, SCSI peripherals are
generally better engineered than IDE/ATAPI equivalents, and new
high-performing drive technologies tend to become available in SCSI first.
You'll pay a few dollars more, but for Linux the cost is well repaid in
increased throughput and reliability.</P
><P
>Rick comments: "They call me a SCSI bigot.  So be it -- but my
hardware keeps being future-proof, I don't have to run bizarre emulation
layers to address CDRs, I never run low on IRQs or resort to IRQ-sharing
(on account of 3-4 ATA controllers each needing one, plus special adapters
for scanners, etc.), all my hard drives have hardware-level hot-fix, all my
hard disk/CD/tape/etc. devices support a stable standard rather than this
month's cheap extension kludge, and I don't have to worry about adverse
interactions at the hardware or driver levels from mixing ATA and SCSI." He
speaks for all three of us.  Neither Daryll nor I will have IDE in any
machine we build either, though we grudgingly tolerate it in our
laptops.</P
><P
>For the fastest disks you can find, pay close attention to
average seek and latency time.  The former is an average time
required to seek to any track; the latter is the maximum time 
required for any sector on a track to come under the heads, and is
a function of the disk's rotation speed.</P
><P
>Of these, average seek time is <I
CLASS="EMPHASIS"
>much</I
> more
important.  When you're running Linux or any other virtual-memory operating
system, a one millisecond faster seek time can make a really substantial
difference in system throughput.  Back when PC processors were slow enough
for the comparison to be possible (and I was running System V Unix), it was
easily worth as much as a 30MHz increment in processor speed.  Today the
corresponding figure would probably be as much as 300MHz!</P
><P
>The manufacturers themselves avoid running up seek time on the
larger-capacity drives by stacking platters vertically rather than
increasing the platter size.  Thus, seek time (which is proportional
to the platter radius and head-motion speed) tends to be constant across
different capacities in the same product line.  This is good because it
means you don't have to worry about a capacity-vs.-speed tradeoff.</P
><P
>The cutting edge in SCSI devices is ultra wide LVD
(low-voltage-differential) SCSI drives with 160MB/sec transfer speed,
running over a 68-pin cable. Vendors often call this combination "SCSI-3",
which is incorrect as most of these devices don't have built-in support for
the entire SCSI-3 protocol, and it would be overdesign if they did (the
extra commands are designed for use with CD and multimedia devices).</P
><P
>Fast ultra LVD is a bit more expensive to support than the older
versions of SCSI (for which key words are "single-ended", describing the
electrical interface, and "narrow", describing the width of data transfers
over the older-style 50-pin connector).  Thus, you're likely to find it
only on hard drives that are physically capable of doing high-speed
data access off their media; slower devices such as tapes and CD drives
are normally still built with the narrow single-ended variant.</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="ulb2001.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="ulb2001.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="economizing.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>The Ultimate Linux Box 2001: How to Design Your Dream Machine</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>But What If I'm Economizing?</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>